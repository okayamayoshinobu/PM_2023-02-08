[["_main.html", "bookdownを用いてのPDF作成について 有斐閣Online編集部の検討事項確認 bookdownとは bookdownを使った(R)MD→PDFはなにをしているのか bookdownを使った(R)MD→PDFの方法 bookdownについての有用なドキュメントなど", " bookdownを用いてのPDF作成について 岡山義信 2023-02-07 有斐閣Online編集部の検討事項確認 有斐閣Online記事の原本であるMDファイルを使って，POD用にPDFファイルを作りたい そのPDFファイル作成方法として，Rパッケージであるbookdownが使えるかもしれない とりあえず具体的にどうやって作るのか見てみたい bookdownとは フリーの統計分析ソフトRのパッケージ; https://pkgs.rstudio.com/bookdown/ R Markdownの多機能版。複数のrmdファイルをまとめてHTMLほかさまざまなフォーマットに変換できる rmdファイルとmdファイルの違いは，おおまかにいうと，rmdファイルにはmdファイルとしての構造を記述するだけでなく，rの分析コードもファイルのなかに含めることができる →rの分析コードを含めたRMD→HTMLの例：『大阪の選択』のOnlineAppendix ここからはMD→PDF化に絞って話します bookdownを使った(R)MD→PDFはなにをしているのか 内部的な仕組みとしては，だいたい以下のような感じになっています Rのネイティブコードを実行していき，結果をmdファイルに編み込んでいく（knitrパッケージ） うえで作られたmdファイルをpandocがTeXファイルに変換 LaTexがTeXファイルをPDFに変換 内部的な仕組み bookdownを使った(R)MD→PDFの方法 必要なアプリ・パッケージなど R RStudio bookdown（rmarkdownは勝手に入れてくれるはず）, rmdja（LaTexを使った日本語のPDF化にとにかく必要），tinytex（PCにTeX環境があれば不要。ただ，後で説明するとおりTeX環境はメジャーなディストリビューションをインストールしておいたほうがいいと思います） bookdownそのものとは関係ないですが，rmdjaパッケージをインストールするためにRToolsをインストールしておかなければなりません。macだと不要 ほか，mdファイルを編集しやすいエディターなど 具体的な作成フロー・設定情報など 原稿にRの分析コードを含めないなら，基本的に原稿mdファイルをそのまま使えるのではないかと思います 設定は(R)MDファイルの冒頭（YAMLフロントマター）に設定情報を記述します このYAMLフロントマターに記述する内容は，別途_bookdown.ymlと_output.ymlファイルに記載してもよい RStudioでプロジェクトを新規作成し，そこに原稿のRMDファイルを読み込ませ，RMDファイルのYAMLを調整します YAMLではさまざまなことが設定できますが，PDF出力にあたって最低限必要なのは以下 output: rmdja::pdf_book_ja: latex_engine: lualatex documentclass: bxjsarticle classoption: a4paper render関数はbookdown純正のpdf_bookではなく，rmdjaのpdf_book_jaを使う LaTex エンジンはいまはモダンLaTeXといわれているLuaLaTexにするのがおすすめ documentclassとclassoptionはTeXのプリアンブルで設定するものと同じ。documentclassは書籍用・論文用・記事用などがあり，classoptionは用紙サイズや版面，フォントなどを設定する あとはRStudioのコンソール画面からbookdown::render_book(\"index.Rmd\", \"rmdja::pdf_book_ja\")と入力し，実行するのみ！ 「ブロックチェーンと金融—―「暗号資産の冬」を迎えて」の記事テキストデータを使った具体例紹介 事前質問について（太字が回答です） 版面（柱、ノンブル等）の設定……偶数／奇数ページ別の設定可？ →設定可能です 画像の配置の自由度／制約 →上で説明したとおり，いちどTeXファイルに変換するので，そのTeXファイルを使ってコンパイルすることも可能です。ですので，基本的にTeXの機能範囲で自由度はあります。そのほか脚注／下線／ルビ／圏点、傍点／小キャピも同様です。 もっとも以下のように，RMDファイルのボディ部にTeXのネイティブコマンドをそのまま書くことも可能です。 ```{=latex} \\begin{tabular}{ll} A &amp; B \\\\ A &amp; B \\\\ \\end{tabular} ``` 以下はmd記法ママでOK？ 取り消し線 イタリック 上付き、下付き 太字 テーブル リンク埋め込み →ママでOKです 本文途中の囲み（引用やコラム的なもの）はcssでの指定を想定 ※なお、囲み内に脚注番号が含まれる場合あり →囲みなどはTeXの/itemboxや/screenほか使えます。凝ったレイアウトにする必要があればスタイルファイル（htmlでいうcss）などで調整可能です 目次作成（情報の抽出）時の留意点などあれば →見出しなど構造化しておけば，目次は自動で作成してくれます。目次のレイアウトやどのレベルまで表示させるかも適宜調整可能です bookdownについての有用なドキュメントなど 『rmdjaによる多様な形式の日本語技術文書の作成』※rmdja開発者執筆のマニュアル “R Markdown Cookbook”※bookdown開発者執筆のマニュアル。日本語訳あり “R Markdown: The Definitive Guide”※bookdown開発者執筆のマニュアル。 ただ，この資料を作成していて思いましたが，PDF作成ということに限れば，bookdownについてよりもLaTeXについての知識のほうが必要になってくるかもしれません "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
